# Computer Operating Systems

## 前言

https://studentcompetitions.com/posts/10-mooc-websites-to-start-your-free-online-education

64课时(上课56、上机8学时)

- 教学理论和综合应用相结合
  - 基础课程
  - 考研的课程
  - 应用价值

- 成绩构成：
  - 期末考试占60%

  - 平时20%,实验10%,10%期中

### 参考

- Andrew S. Tanenbaum
  - 现代操作系统
  - 操作系统：设计与实现

- **William Stallings**
  - **操作系统精髓与设计原理**

- 汤小丹, 梁红兵
  - 计算机操作系统

- Orange'S：一个操作系统的实现
- Linux内核源代码情景分析
- Linux内核完全注释
- UNIX环境高级编程（第3版）(圣经)

### 特点

- 内容多
  - 涉及计算机各个方面

- 内容抽象
  - 不易找到直观形象的例子

- 概念性强
  - 太多的定义

- 枯燥、授课难度较大

操作系统与学科联系图

<img src="img/操作系统与其他科目关系.png" alt="操作系统与其他科目关系" style="zoom: 67%;" />

```
Cloud Computing -> Big Data -> AI
```

### 规则

- 随机抽样回答问题
- 按时完成理论作业以及实际作业
  - 作业发布在蓝墨云上
- 不定期翻转课堂，做好预习

# 绪论

- 什么是操作系统

- 操作系统的发展与变革

- 操作系统万花筒

- 相关硬件知识

- 初识操作系统
  - 相关概念、层次结构、系统调用…

## What is An Operation System

A modern couputer consists of:

- One or more processors
- Main memory
- Disks
- Printers
- Verious input/output devices

Managing all these components requires a layer of software - the **operating system**

![Where_the_operating_system_fits_in](img/Where_the_operating_system_fits_in.png)

```
通过软件、命令行、程序使用操作系统
Kernel mode: 内核模式，可执行特权指令
```

- 操作系统
  - 控制应用程序执行的**程序**

  - 应用程序和计算机硬件间的**接口**

- 目标
  - **方便**：使计算机更易于使用
  - **有效**：允许以更有效的方式使用计算机系统资源
  - **扩展能力**：在不妨碍服务的前提下，有效地开发、测试和引入新的系统功能

### The Operating SYstem as a Resource Manager

- 允许多道程序同时执行

- 管理和保护存储器、I/O设备以及其他资源

- 多路复用
  - 时间（时间片）
  - 空间（硬盘分区）

## 操作系统的历史变革

### No OS at all

没有操作系统

### Simple Batch Systems（简单批处理系统）

![An_early_batch_system](img/An_early_batch_system.png)

1401将卡纸转磁带，7094将磁带数据读出运算输出到另一个磁带，1401将输出磁带结果打印出来

- 缺点：不交互，不及时，在简单批处理系统，处理器必须等待I / O指令完成才能继续处理

### Multiprogramming (多道批处理)

对多个应用程序控制

![A_multiprogramming_system_with_three_jobs_in_memory](img/A_multiprogramming_system_with_three_jobs_in_memory.png)

![单道与多道执行对比时序](img/单道与多道执行对比时序.png)

- 多道程序设计示例
  - 系统可用内存250MB
  - 示例程序执行属性

![多道程序设计示例](img/多道程序设计示例.png)

```
Heavy compute: 计算密集型
Heavy IO: IO密集型
```

![单道与多道程序资源占用对比](img/单道与多道程序资源占用对比.png)

​	单道程序设计的系统设备利用率较低

​	多道程序设计技术可以显著提高系统设备利用率

**吞吐量：单位时间内完成的任务的数量**

- 多道批处理系统——简单批处理系统的改进

  - 内存中同时存放**多个**作业

  - 多个作业可**并发**执行

  - **作业调度程序**负责作业的调度

- 多道批处理系统的硬件支持

  - 中断(中断控制器)

  - DMA(Direct Memory Access，直接内存存取)（通道）

  - …

- 多道批处理系统的特征

  多道性：内存中同时驻留多道程序并发执行，从而有效地提高了资源利用率和系统吞吐量

  调度性：作业调度、进程调度

  无序性：作业的完成顺序与它进入内存的顺序之间无严格的对应关系

  无交互能力

- 需要解决的基本问题(现代操作系统的功能)

  - 内存管理
  - 处理机管理
  - 作业管理
  - I/O设备管理
    - 防止IO死锁
  - 文件管理

- **特征**

  - **多道性、无序性、调度性**

- **优点**

  - **提高了资源利用率和吞吐能力。**

- **缺点**

  - **平均周转时间长，没有交互能力**
$$
      周转时间=作业完成时间−作业提交时时间
$$

$$
      平均周转时间=\dfrac{作业1的周转时间+...+作业n的周转时间}{n}
$$

$$
      带权周转时间=\dfrac{作业周转时间作业}{实际运行时间}
$$

$$
     平均带权周转时间=\dfrac{作业1的带权周转时间+...+作业n的带权周转时间}{n}
$$

------

> 操作系统是一组控制和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的**程序的集合**。

> An operating system (OS) is **system software** that **manages** computer hardware and software **resources** and **provides** common **services** for computer programs. ——wikipedia